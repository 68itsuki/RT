# SpringBootコードレビューチェックリスト

## 📋 基本構造・セットアップ

### プロジェクト構成
- [ ] 適切なパッケージ構造になっているか
- [ ] Maven/Gradleの設定が適切か
- [ ] アプリケーションクラスが正しく配置されているか
- [ ] 不要なファイルが残っていないか

### 依存関係管理
- [ ] pom.xml/build.gradleが適切に設定されているか
- [ ] 必要な依存関係が含まれているか
- [ ] 不要な依存関係が含まれていないか
- [ ] バージョン競合がないか

### 設定ファイル
- [ ] application.properties/application.ymlが適切に設定されているか
- [ ] 環境別の設定ファイルが分離されているか
- [ ] 機密情報が適切に管理されているか

## 🏗️ アーキテクチャ設計

### レイヤー分離
- [ ] Controller層が適切に実装されているか
- [ ] Service層が適切に実装されているか
- [ ] Repository層が適切に実装されているか
- [ ] 各レイヤーの責任が明確に分離されているか

### パッケージ構造
- [ ] 機能別にパッケージが分離されているか
- [ ] パッケージ名が意味のある命名になっているか
- [ ] 循環依存が発生していないか

## 🎯 Controller層

### RESTful API設計
- [ ] HTTPメソッドが適切に使用されているか
- [ ] URLパスがRESTfulに設計されているか
- [ ] 適切なHTTPステータスコードが返されているか
- [ ] Content-Typeヘッダーが適切に設定されているか

### リクエスト処理
- [ ] @RequestMapping/@GetMapping等のアノテーションが適切か
- [ ] パスパラメータが適切に処理されているか
- [ ] クエリパラメータが適切に処理されているか
- [ ] リクエストボディが適切に処理されているか

### バリデーション
- [ ] @Validアノテーションが使用されているか
- [ ] 入力値のバリデーションが実装されているか
- [ ] カスタムバリデーションが適切に実装されているか

### レスポンス処理
- [ ] ResponseEntityが適切に使用されているか
- [ ] エラーレスポンスが適切に設計されているか
- [ ] レスポンスの形式が一貫しているか

## 🔧 Service層

### ビジネスロジック
- [ ] ビジネスロジックが適切に実装されているか
- [ ] トランザクション管理が適切か
- [ ] 例外処理が適切に実装されているか

### 依存性注入
- [ ] @Autowiredが適切に使用されているか
- [ ] コンストラクタインジェクションが使用されているか
- [ ] 循環依存が発生していないか

### メソッド設計
- [ ] メソッド名が意味のある命名になっているか
- [ ] 単一責任の原則に従っているか
- [ ] 適切なアクセス修飾子が使用されているか

## 🗄️ Repository層

### データアクセス
- [ ] JpaRepositoryが適切に継承されているか
- [ ] カスタムクエリが適切に実装されているか
- [ ] クエリのパフォーマンスが考慮されているか

### エンティティ設計
- [ ] @Entityアノテーションが適切に使用されているか
- [ ] 主キーが適切に定義されているか
- [ ] リレーションシップが適切に定義されているか
- [ ] カスケード設定が適切か

### データベース設計
- [ ] テーブル設計が正規化されているか
- [ ] インデックスが適切に設定されているか
- [ ] 外部キー制約が適切に設定されているか

## 📊 エンティティ・DTO

### エンティティ設計
- [ ] エンティティクラスが適切に設計されているか
- [ ] JPAアノテーションが適切に使用されているか
- [ ] リレーションシップが適切に定義されているか
- [ ] バリデーションアノテーションが適切か

### DTO設計
- [ ] DTOクラスが適切に設計されているか
- [ ] エンティティとDTOの分離が適切か
- [ ] マッピングが適切に実装されているか

### データ変換
- [ ] ModelMapper等のマッピングライブラリが適切に使用されているか
- [ ] 手動マッピングが適切に実装されているか

## 🛡️ セキュリティ

### 認証・認可
- [ ] Spring Securityが適切に設定されているか
- [ ] 認証処理が適切に実装されているか
- [ ] 認可処理が適切に実装されているか
- [ ] パスワードハッシュ化が適切か

### 入力値検証
- [ ] SQLインジェクション対策が実装されているか
- [ ] XSS対策が実装されているか
- [ ] CSRF対策が実装されているか

### 機密情報管理
- [ ] 機密情報が適切に暗号化されているか
- [ ] 環境変数が適切に使用されているか
- [ ] ログに機密情報が出力されていないか

## 🔄 例外処理

### 例外設計
- [ ] カスタム例外クラスが適切に設計されているか
- [ ] 例外階層が適切に設計されているか
- [ ] 例外メッセージが適切に設定されているか

### 例外ハンドリング
- [ ] @ControllerAdviceが適切に実装されているか
- [ ] グローバル例外ハンドラーが適切か
- [ ] 適切なHTTPステータスコードが返されているか

### ログ出力
- [ ] 例外ログが適切に出力されているか
- [ ] スタックトレースが適切に管理されているか
- [ ] ログレベルが適切に設定されているか

## 📝 ログ管理

### ログ設定
- [ ] Logback/log4j2の設定が適切か
- [ ] ログレベルが適切に設定されているか
- [ ] ログローテーションが設定されているか

### ログ出力
- [ ] 適切な場所でログが出力されているか
- [ ] ログメッセージが分かりやすいか
- [ ] 機密情報がログに出力されていないか

## 🔧 設定管理

### プロパティ管理
- [ ] 設定値が適切に外部化されているか
- [ ] 環境別の設定が適切に分離されているか
- [ ] @Value/@ConfigurationPropertiesが適切に使用されているか

### プロファイル管理
- [ ] プロファイルが適切に設定されているか
- [ ] 環境別のプロファイルが適切に分離されているか

## 🚀 パフォーマンス

### データベース最適化
- [ ] N+1問題が発生していないか
- [ ] クエリが最適化されているか
- [ ] 適切なインデックスが設定されているか

### キャッシュ
- [ ] キャッシュが適切に実装されているか
- [ ] キャッシュの有効期限が適切に設定されているか
- [ ] キャッシュの無効化が適切に実装されているか

### 非同期処理
- [ ] @Asyncが適切に使用されているか
- [ ] 非同期処理の例外処理が適切か
- [ ] スレッドプールが適切に設定されているか

## 🧪 テスト

### 単体テスト
- [ ] JUnitが適切に使用されているか
- [ ] テストカバレッジが十分か
- [ ] モックが適切に使用されているか

### 統合テスト
- [ ] @SpringBootTestが適切に使用されているか
- [ ] テストデータベースが適切に設定されているか
- [ ] テストの独立性が保たれているか

### テスト設計
- [ ] テストメソッド名が分かりやすいか
- [ ] テストケースが網羅的か
- [ ] テストデータが適切に管理されているか

## 📚 コーディング規約

### Javaコーディング規約
- [ ] Javaコーディング規約に従っているか
- [ ] 適切な命名規則が使用されているか
- [ ] コメントが適切に書かれているか

### SpringBoot規約
- [ ] SpringBootの規約に従っているか
- [ ] アノテーションが適切に使用されているか
- [ ] 設定クラスが適切に設計されているか

## 🔍 静的解析

### コード品質
- [ ] SonarQube等の静的解析ツールが使用されているか
- [ ] コードの複雑度が適切か
- [ ] 重複コードがないか

### セキュリティチェック
- [ ] セキュリティ脆弱性がないか
- [ ] 依存関係の脆弱性がないか

## 📋 レビュー時の注意点

### 受講生への配慮
- [ ] 建設的なフィードバックを提供しているか
- [ ] 学習段階に応じた指摘をしているか
- [ ] 良い点も含めてバランスの取れたレビューをしているか

### 改善提案
- [ ] 具体的な改善方法を提示しているか
- [ ] 参考資料やリソースを紹介しているか
- [ ] 段階的な改善計画を提案しているか

---

## 📝 レビューコメント例

### 良い例
```
✅ Controller層の設計が適切です
✅ RESTful APIの設計がきれいです
✅ 例外処理が適切に実装されています

💡 改善提案：
- Service層でのトランザクション管理を確認してください
- ログ出力を追加することをお勧めします
```

### 改善が必要な例
```
⚠️ 注意点：
- N+1問題が発生する可能性があります
- パスワードが平文で保存されています
- 例外処理が不十分です

🔧 修正方法：
- @EntityGraphを使用してN+1問題を解決する
- BCryptでパスワードをハッシュ化する
- @ControllerAdviceでグローバル例外ハンドラーを実装する
```

---

## 🎯 学習段階別チェックポイント

### 初心者向け（重要項目）
- [ ] 基本的なCRUD操作が実装されているか
- [ ] RESTful APIの基本が理解されているか
- [ ] 基本的な例外処理が実装されているか
- [ ] 適切なHTTPステータスコードが使用されているか

### 中級者向け（追加項目）
- [ ] トランザクション管理が適切か
- [ ] セキュリティが実装されているか
- [ ] パフォーマンスが考慮されているか
- [ ] テストが実装されているか

### 上級者向け（発展項目）
- [ ] マイクロサービス設計が考慮されているか
- [ ] 監視・ログが適切に実装されているか
- [ ] CI/CDパイプラインが構築されているか
- [ ] スケーラビリティが考慮されているか

---

このチェックリストを使用して、受講生のSpringBootコードを体系的にレビューしてください。学習段階やプロジェクトの複雑さに応じて、重点的にチェックする項目を調整することをお勧めします。 